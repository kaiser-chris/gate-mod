gg_project_expand_research_institute = {
    scope = country

    is_valid = {
        capital = {
            has_building = building_magic_research_institute
        }
        NOT = {
            has_modifier = gate_modifier_project_institute_new_wing
            has_modifier = gate_modifier_project_institute_improved_instruments
            has_modifier = gate_modifier_project_institute_better_mana_conduits
        }
        is_magic_country = yes
        has_magic_researcher = yes
        not_has_active_magic_project = yes
    }

    effect = {
        gate_start_magic_project = {
            project = je_gate_project_expand_research_institute
        }
    }
}

gg_project_domain = {
    scope = country

    is_valid = {
        has_technology_researched = formalized_magic
        trigger_if = {
            limit = {
                exists = var:magic_ethics
            }
            var:magic_ethics < 3
        }
        is_magic_country = yes
        has_magic_researcher = yes
        not_has_active_magic_project = yes
    }

    effect = {
        gate_start_magic_project = {
            project = je_gate_project_domain
        }
    }
}