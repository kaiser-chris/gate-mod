law_gate_vampire_monarchy = {
    group = lawgroup_governance_principles
    icon = gfx/interface/icons/law_icons/gate_vampire_monarchy.dds
    progressiveness = 0

    ai_will_do = {
        OR = {
            has_ruling_interest_group = ig_landowners
            has_ruling_interest_group = ig_industrialists
            ruler ?= {
                OR = {
                    culture = cu:vampire
                    religion = rel:lunar_masquerade
                }
            }
        }
    }

    on_activate = {
        hidden_effect = {
            clear_variable_list = gate_previous_cultures
            remove_variable = gate_previous_religion
            set_variable = gate_had_eternal_monarchy
        }
        custom_tooltip = {
            text = effect_characters_embrace_vampirism
            every_scope_character = {
                limit = {
                    NOT = {
                        culture = cu:vampire
                    }
                }
                change_character_culture = cu:vampire
                change_character_religion = rel:lunar_masquerade
            }
            every_character_in_void = {
                limit = {
                    owner ?= root
                    NOT = {
                        culture = cu:vampire
                    }
                }
                change_character_culture = cu:vampire
                change_character_religion = rel:lunar_masquerade
            }
        }
        custom_tooltip = {
            text = effect_pops_embrace_vampirism
            every_scope_pop = {
                limit = {
                    pop_has_primary_culture = no
                    OR = {
                        has_ongoing_conversion = yes
                        has_ongoing_assimilation = yes
                    }
                }
                change_pop_culture = {
                    target = cu:vampire
                    value = 1
                }
            }
            every_scope_pop = {
                limit = {
                    pop_has_primary_culture = yes
                }
                change_pop_culture = {
                    target = cu:vampire
                    value = 0.2
                }
            }
            every_scope_pop = {
                limit = {
                    culture = cu:vampire
                }
                change_pop_religion = {
                    target = rel:lunar_masquerade
                    value = 1
                }
            }
        }

        every_primary_culture = {
            root = {
                remove_primary_culture = prev
                add_to_variable_list = {
                    name = gate_previous_cultures
                    target = prev
                }
            }
        }

        add_primary_culture = cu:vampire
        set_variable = {
            name = gate_previous_religion
            value = religion
        }
        set_state_religion = rel:lunar_masquerade
        ig:ig_industrialists ?= {
            if = {
                limit = {
                    NOT = {
                        has_ideology = ideology:ideology_gate_vampire_movement
                    }
                }
                add_ideology = ideology_gate_vampire_movement
            }
        }
        ig:ig_petty_bourgeoisie ?= {
            if = {
                limit = {
                    NOT = {
                        has_ideology = ideology:ideology_gate_vampire_movement
                    }
                }
                add_ideology = ideology_gate_vampire_movement
            }
        }
    }

    on_deactivate = {
        remove_primary_culture = cu:vampire
        every_in_list = {
            variable = gate_previous_cultures
            root ?= {
                add_primary_culture = prev
            }
        }
        set_state_religion = var:gate_previous_religion
    }

    is_visible = {
        OR = {
            has_journal_entry = je_gate_vampire_emergence
            has_variable = gate_had_eternal_monarchy
        }
    }

    modifier = {
        country_aristocrats_pol_str_mult = 0.25
        country_capitalists_pol_str_mult = 0.25
        state_aristocrats_investment_pool_contribution_add = 0.1
        state_capitalists_investment_pool_contribution_add = 0.1
        country_legitimacy_headofstate_add = 30
        country_legitimacy_ideological_incoherence_mult = 0.1
        country_authority_add = 300
    }

    # Petitions
    ai_enact_weight_modifier = {
        value = 0

        if = {
            limit = { ai_has_enact_weight_modifier_journal_entries = yes }
            add = 750
        }
    }
}