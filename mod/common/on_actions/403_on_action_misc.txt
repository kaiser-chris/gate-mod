# Root = Building
on_building_built = {
    on_actions = {
        on_research_institute_built
    }
}

on_research_institute_built = {
    effect = {
        if = {
            limit = {
                is_building_type = building_magic_research_institute
            }
            owner = {
                trigger_event = researching_magic.3
            }
        }
    }
}

on_diplomatic_play_started = {
    on_actions = {
        on_diplomatic_play_started_custom_war_goal
    }
}

on_diplomatic_play_started_custom_war_goal = {
    effect = {
        if = {
            limit = {
                is_diplomatic_play_type = dp_demand_magic_knowledge
            }
            add_to_variable_list = {
                name = com_active_war_goals_primary
                target = bt:gate_war_goal_demand_magic
            }
        }
    }
}