add_gate_immigration = {
	if = {
		limit = {
			has_technology_researched = dwarven_gate_immigration
		}
		every_scope_state = {
			limit = {
				has_building = building_gate
				modifier:state_monthly_dwarven_immigration_add > 0
			}
			# Create pop throws errors after game start
			# but still works
			if = {
				limit = {
					modifier:state_monthly_dwarven_immigration_add = 10000
				}
				create_pop = {
					culture = dwarven
					size = 10000
				}
			}
			else_if = {
				limit = {
					modifier:state_monthly_dwarven_immigration_add = 30000
				}
				create_pop = {
					culture = dwarven
					size = 30000
				}
			}
		}
	}

}