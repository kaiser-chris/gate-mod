building_gate = {
	building_group = bg_monuments
	texture = "gfx/interface/icons/building_icons/building_gate.dds"
	buildable = no
	expandable = no
	downsizeable = no

	production_method_groups = {
		pmg_magic_gate_exploitation
	}

	possible = {
		state_region = s:STATE_ZAMBIA
		state_region = s:STATE_TYROL
		state_region = s:STATE_SAN_SALVADOR
	}

	can_build_private = {
		always = no
	}

	required_construction = construction_cost_monument

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_mana_extractor = {
	building_group = bg_light_industry
	texture = "gfx/interface/icons/building_icons/building_mana_extractor.dds"
	city_type = city

	unlocking_technologies = {
		mana_extraction
	}

	possible = {
		OR = {
			has_building = building_gate
			has_global_variable = gate_mana_saturation_full
			any_neighbouring_state = {
				has_building = building_gate
			}
		}
	}

	production_method_groups = {
		pmg_mana_extraction
	}

	required_construction = construction_cost_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_murk_ways = {
	building_group = bg_public_infrastructure
	texture = "gfx/interface/icons/building_icons/building_murk_ways.dds"
	city_type = city

	has_max_level = yes

	unlocking_technologies = {
		magic_dwarf_murk
	}

	possible = {
		AND = {
			# Don't show building when necessary technology is missing
			owner = {
				has_technology_researched = magic_dwarf_murk
			}
			# Murk Ways can only be build in mountains.
			# Currently there is no better way to check for states with mountains
			OR = {
				has_state_trait = state_trait_scottish_highlands
				has_state_trait = state_trait_cascades
				has_state_trait = state_trait_sierra_nevada
				has_state_trait = state_trait_rocky_mountains
				has_state_trait = state_trait_sierra_madre_occidental
				has_state_trait = state_trait_sierra_madre_oriental
				has_state_trait = state_trait_central_american_cordilleras
				has_state_trait = state_trait_wasatch_range
				has_state_trait = state_trait_andes
				has_state_trait = state_trait_alps_mountains
				has_state_trait = state_trait_caucasus_mountains
				has_state_trait = state_trait_atlas_mountains
				has_state_trait = state_trait_zagros_mountains
				has_state_trait = state_trait_alborz_mountains
				has_state_trait = state_trait_baluchistan_mountains
				has_state_trait = state_trait_mount_lebanon
				has_state_trait = state_trait_himalayas_mountains
				has_state_trait = state_trait_great_dividing_range
			}
		}
	}

	production_method_groups = {
		pmg_murk_transportation
	}

	required_construction = construction_cost_medium

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_magic_academy = {
	building_group = bg_technology
	texture = "gfx/interface/icons/building_icons/building_magic_academy.dds"
	city_type = city
	expandable = no

	unlocking_technologies = {
		formalized_magic
	}

	possible = {
		is_capital = yes
	}

	can_build_private = {
		always = no
	}

	production_method_groups = {
		pmg_magic_academy_support
		pmg_magic_academy_research
	}

	required_construction = construction_cost_very_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_golem_workshop = {
	building_group = bg_light_industry
	texture = "gfx/interface/icons/building_icons/building_golem_workshop.dds"
	city_type = city

	unlocking_technologies = {
		magic_golems
	}

	production_method_groups = {
		pmg_golem_workshop_production
	}

	required_construction = construction_cost_very_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_golem_depot = {
	building_group = bg_public_infrastructure
	texture = "gfx/interface/icons/building_icons/building_golem_depot.dds"
	city_type = city
	expandable = no

	unlocking_technologies = {
		magic_golems
	}

	can_build_private = {
		always = no
	}

	production_method_groups = {
		pmg_golem_depot_mining
		pmg_golem_depot_agriculture
	}

	required_construction = construction_cost_very_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}