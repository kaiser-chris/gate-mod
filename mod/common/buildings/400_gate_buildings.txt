building_gate = {
	building_group = bg_monuments
	icon = "gfx/interface/icons/building_icons/building_gate.dds"
	buildable = no
	expandable = no
	downsizeable = no

	production_method_groups = {
		pmg_magic_gate_exploitation
	}

	possible = {
		state_region = s:STATE_ZAMBIA
		state_region = s:STATE_TYROL
		state_region = s:STATE_SAN_SALVADOR
	}

	can_build_private = {
		always = no
	}

	required_construction = construction_cost_monument

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_mana_extractor = {
	building_group = bg_light_industry
	icon = "gfx/interface/icons/building_icons/building_mana_extractor.dds"
	city_type = city

	unlocking_technologies = {
		mana_extraction
	}

	potential = {
		owner = {
			is_magic_country = yes
		}
	}

	possible = {
		custom_tooltip = {
			text = building_mana_extractor_mana_density
			state_region = {
				var:mana_density >= medium_mana_density_threshhold
			}
		}
	}

	production_method_groups = {
		pmg_mana_extraction
	}

	required_construction = construction_cost_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_murk_ways = {
	building_group = bg_public_infrastructure
	icon = "gfx/interface/icons/building_icons/building_murk_ways.dds"
	city_type = city

	has_max_level = yes

	unlocking_technologies = {
		magic_dwarf_murk
	}

	potential = {
		AND = {
			# Don't show building when necessary technology is missing
			owner = {
				has_technology_researched = magic_dwarf_murk
			}
			# Murk Ways can only be build in mountains.
			is_mountainous_state = yes
		}
	}

	possible = {
		is_mountainous_state = yes
	}

	production_method_groups = {
		pmg_murk_transportation
	}

	required_construction = construction_cost_medium

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_magic_academy = {
	building_group = bg_technology
	icon = "gfx/interface/icons/building_icons/building_magic_academy.dds"
	city_type = city
	expandable = no

	unlocking_technologies = {
		formalized_magic
	}

	potential = {
		owner = {
			is_magic_country = yes
		}
	}

	possible = {
		is_capital = yes
	}

	can_build_private = {
		always = no
	}

	production_method_groups = {
		pmg_magic_academy_support
	}

	required_construction = construction_cost_very_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_magic_research_institute = {
	building_group = bg_technology
	icon = "gfx/interface/icons/building_icons/building_magic_research_institute.dds"
	city_type = city
	expandable = no
	downsizeable = no

	potential = {
		is_capital = yes
		owner = {
			OR = {
				is_magic_country = yes
				has_journal_entry = je_researching_magic
			}
		}
	}

	possible = {
		is_capital = yes
		owner = {
			OR = {
				is_magic_country = yes
				has_journal_entry = je_researching_magic
			}
		}
	}

	can_build_private = {
		always = no
	}

	# TODO: Create Production Methods for building_magic_research_institute
	production_method_groups = {
		pmg_university_magic_research
	}

	required_construction = construction_cost_very_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_mage_tower = {
	building_group = bg_mage_tower
	icon = "gfx/interface/icons/building_icons/building_magic_academy.dds"
	city_type = city

	buildable = no
	expandable = no
	downsizeable = no
	ownership_type = no_ownership

	production_method_groups = {
		pmg_mage_tower
	}

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_golem_workshop = {
	building_group = bg_light_industry
	icon = "gfx/interface/icons/building_icons/building_golem_workshop.dds"
	city_type = city

	potential = {
		owner = {
			is_magic_country = yes
		}
	}

	unlocking_technologies = {
		magic_golems
	}

	production_method_groups = {
		pmg_golem_workshop_production
	}

	required_construction = construction_cost_very_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_golem_depot = {
	building_group = bg_public_infrastructure
	icon = "gfx/interface/icons/building_icons/building_golem_depot.dds"
	city_type = city
	expandable = no

	potential = {
		owner = {
			is_magic_country = yes
		}
	}

	unlocking_technologies = {
		magic_golems
	}

	can_build_private = {
		always = no
	}

	production_method_groups = {
		pmg_golem_depot_mining
		pmg_golem_depot_agriculture
	}

	required_construction = construction_cost_very_high

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}

building_druid_groove = {
	building_group = bg_druid_grooves
	icon = "gfx/interface/icons/building_icons/building_druid_groove.dds"
	city_type = none
	levels_per_mesh = 5

	unlocking_technologies = {
		magic_farming
	}

	potential = {
		owner = {
			is_magic_country = yes
		}
	}
	ownership_type = self

	production_method_groups = {
		pmg_druid_groove
	}

	required_construction = construction_cost_medium

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_magic.dds"
}