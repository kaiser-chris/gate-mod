namespace = magic_ethic

magic_ethic.1 = {
	type = country_event
	dlc = dlc_magic_gate
	
	title = magic_ethic.1.t
	desc = magic_ethic.1.d
	flavor = magic_ethic.1.f

	event_image = {
		video = "gate_unspecified_magic_phenomena"
	}

	trigger = {
		var:magic_ethics < gate_max_ethics
        gate_ethic_has_all = no
	}

	gui_window = event_window_ethics

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = gfx/interface/icons/event_icons/event_gate_balanced.dds

	option = {
		name = magic_ethic.1.all
		default_option = yes
        custom_tooltip = magic_ethic.1.all.tooltip
		trigger = {
            gate_ethic_has_all = yes
		}
	}

	option = {
		name = magic_ethic.1.neutral
		default_option = yes
        gate_unlock_ethic = {
            ethic = ethic_neutral
        }
        trigger = {
            gate_ethic_can_unlock = {
                ethic = ethic_neutral
                opposite = ethic_neutral
            }
        }
	}

	option = {
		name = magic_ethic.1.war
        gate_unlock_ethic = {
            ethic = ethic_war
        }
        show_as_unavailable = {
            always = yes
        }
        trigger = {
            gate_ethic_can_unlock = {
                ethic = ethic_war
                opposite = ethic_diplomacy
            }
        }
	}

	option = {
		name = magic_ethic.1.diplomacy
        gate_unlock_ethic = {
            ethic = ethic_diplomacy
        }
        show_as_unavailable = {
            always = yes
        }
        trigger = {
            gate_ethic_can_unlock = {
                ethic = ethic_diplomacy
                opposite = ethic_war
            }
        }
	}

	option = {
		name = magic_ethic.1.economy
        gate_unlock_ethic = {
            ethic = ethic_economy
        }
        show_as_unavailable = {
            always = yes
        }
        trigger = {
            gate_ethic_can_unlock = {
                ethic = ethic_economy
                opposite = ethic_environment
            }
        }
	}

	option = {
		name = magic_ethic.1.environment
        gate_unlock_ethic = {
            ethic = ethic_environment
        }
        show_as_unavailable = {
            always = yes
        }
        trigger = {
            gate_ethic_can_unlock = {
                ethic = ethic_environment
                opposite = ethic_economy
            }
        }
	}

    option = {
        name = magic_ethic.1.harmony
        gate_unlock_ethic = {
            ethic = ethic_harmony
        }
        show_as_unavailable = {
            always = yes
        }
        trigger = {
            gate_ethic_can_unlock = {
                ethic = ethic_harmony
                opposite = ethic_discord
            }
        }
    }

    option = {
        name = magic_ethic.1.discord
        gate_unlock_ethic = {
            ethic = ethic_discord
        }
        show_as_unavailable = {
            always = yes
        }
        trigger = {
            gate_ethic_can_unlock = {
                ethic = ethic_discord
                opposite = ethic_harmony
            }
        }
    }
}