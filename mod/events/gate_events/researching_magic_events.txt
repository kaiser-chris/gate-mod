namespace = researching_magic

# Monster Horde Investigation
researching_magic.1 = {
	type = country_event
	dlc = dlc_magic_gate
	placement = scope:monster_horde_state
	
	title = researching_magic_discovery.t
	desc = researching_magic_discovery.d
	flavor = researching_magic.1.f

	trigger = {
		has_journal_entry = je_researching_magic
	}

	event_image = {
		texture = "gfx/event_pictures/magic_phenomena.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/generic_icons/innovation.dds"
	
	duration = 3

	option = {
		name = researching_magic.1.a
		default_option = yes
		custom_tooltip = {
			text = researching_magic_discovery.result
			je:je_researching_magic = {
				add_progress = {
					name = pb_gate_researching_magic
					value = 2
				}
			}
		}
		make_magic_researcher_not_busy = yes
	}
}

# Plant Growth Investigation
researching_magic.2 = {
	type = country_event
	dlc = dlc_magic_gate
	placement = scope:magic_growing_state

	title = researching_magic_discovery.t
	desc = researching_magic_discovery.d
	flavor = researching_magic.2.f

	trigger = {
		has_journal_entry = je_researching_magic
	}

	event_image = {
		texture = "gfx/event_pictures/magic_phenomena.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/generic_icons/innovation.dds"

	duration = 3

	option = {
		name = researching_magic.2.a
		default_option = yes
		custom_tooltip = {
			text = researching_magic_discovery.result
			je:je_researching_magic = {
				add_progress = {
					name = pb_gate_researching_magic
					value = 5
				}
			}
		}
		make_magic_researcher_not_busy = yes
	}
}

# Research Institute Established
researching_magic.3 = {
	type = country_event
	dlc = dlc_magic_gate
	placement = scope:monster_horde_state

	title = researching_magic.3.t
	desc = researching_magic.3.d
	flavor = researching_magic.3.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/generic_icons/innovation.dds"

	immediate = {
		# Researcher stops complaining
		var:magic_researcher = {
			set_variable = {
				name = com_opinion
				value = flag:character_opinion_magic_researcher
			}
		}
	}

	duration = 3

	option = {
		name = researching_magic.3.a
		default_option = yes
	}
}
