namespace = dwarven_german_integration

# europenorthamerica_art_gallery
# europenorthamerica_rich_and_poor
# unspecific_politicians_arguing
# unspecific_vandalized_storefront

dwarven_german_integration.1 = {
	type = country_event
	dlc = dlc_magic_gate

	title = dwarven_german_integration.1.t
	desc = dwarven_german_integration.1.d
	flavor = dwarven_german_integration.1.f
	
	event_image = {
		video = "unspecific_vandalized_storefront"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	duration = 3

	immediate = {
		random_scope_state = {
			limit = {
				any_scope_building = {
					can_queue_building_levels = 1
					is_building_group = bg_mining
				}
			}
			save_scope_as = mine_state
		}
	}

	option = {
		name = dwarven_german_integration.1.a
		default_option = yes

		scope:journal_entry = {
			add_progress = {
				name = pb_gate_german_integration
				value = -5
			}
		}
		add_radicals = {
			value = small_radicals
			culture = cu:alemannic
		}
		add_radicals = {
			value = small_radicals
			culture = cu:north_german
		}
		add_radicals = {
			value = small_radicals
			culture = cu:south_german
		}
		add_loyalists = {
			value = small_radicals
			culture = cu:dwarven
		}

		ai_chance = {
			base = 10
		}
	}

	option = {
		name = dwarven_german_integration.1.b

		trigger = {
			scope:mine_state = {
				any_scope_building = {
					can_queue_building_levels = 1
					is_building_group = bg_mining
				}
			}
		}
		scope:journal_entry = {
			add_progress = {
				name = pb_gate_german_integration
				value = 5
			}
		}
		custom_tooltip = {
			text = dwarven_german_integration.1.b.tt
			scope:mine_state = {
				build_random_mine_in_state = yes
			}
		}
		# Increased cost because no building time
		add_treasury = {
			value = construction_cost_high
			multiply = -1
		}

		# AI should prefer a new building
		ai_chance = {
			base = 200
		}
	}

	option = {
		name = dwarven_german_integration.1.c

		scope:journal_entry = {
			add_progress = {
				name = pb_gate_german_integration
				value = 5
			}
		}

		add_loyalists = {
			value = small_radicals
			culture = cu:alemannic
		}
		add_loyalists = {
			value = small_radicals
			culture = cu:north_german
		}
		add_loyalists = {
			value = small_radicals
			culture = cu:south_german
		}
		add_radicals = {
			value = small_radicals
			culture = cu:dwarven
		}
		add_modifier = {
			name = dwarven_help_germans
			months = short_modifier_time
			multiplier = money_amount_multiplier_small
		}

		ai_chance = {
			base = 100
		}
	}
}

dwarven_german_integration.2 = {
	type = country_event
	dlc = dlc_magic_gate

	title = dwarven_german_integration.2.t
	desc = dwarven_german_integration.2.d
	flavor = dwarven_german_integration.2.f

	event_image = {
		video = "unspecific_vandalized_storefront"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	option = {
		name = dwarven_german_integration.2.a
		default_option = yes

		scope:journal_entry = {
			add_progress = {
				name = pb_gate_german_integration
				value = -5
			}
		}

		add_radicals = {
			value = small_radicals
			culture = cu:alemannic
		}
		add_radicals = {
			value = small_radicals
			culture = cu:north_german
		}
		add_radicals = {
			value = small_radicals
			culture = cu:south_german
		}
		add_loyalists = {
			value = small_radicals
			culture = cu:dwarven
		}

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dwarven_german_integration.2.b

		scope:journal_entry = {
			add_progress = {
				name = pb_gate_german_integration
				value = 10
			}
		}

		add_loyalists = {
			value = small_radicals
			culture = cu:alemannic
		}
		add_loyalists = {
			value = small_radicals
			culture = cu:north_german
		}
		add_loyalists = {
			value = small_radicals
			culture = cu:south_german
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:dwarven
		}

		ai_chance = {
			base = 100
		}
	}
}